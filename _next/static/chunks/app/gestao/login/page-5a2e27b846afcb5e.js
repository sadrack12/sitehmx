(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8716],{998:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},8291:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},5589:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},1295:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},118:function(e,t,r){Promise.resolve().then(r.bind(r,5800))},5800:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(7437),s=r(2265),o=r(4033),n=r(1396),l=r.n(n),i=r(8565),c=r(998),d=r(1295),u=r(5589),h=r(8291);function m(){let[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[x,v]=(0,s.useState)(!1),{login:f}=(0,i.a)(),p=(0,o.useRouter)(),b=async t=>{t.preventDefault(),g(""),v(!0);try{await f(e,r),p.push("/gestao/dashboard")}catch(e){var a,s;g((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Erro ao fazer login")}finally{v(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-50 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-5",children:(0,a.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,a.jsxs)("div",{className:"max-w-md w-full relative z-10",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-600 to-green-700 rounded-2xl shadow-xl mb-4",children:(0,a.jsx)(c.Z,{className:"w-10 h-10 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\xc1rea de Gest\xe3o"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Acesse o painel administrativo"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100",children:[(0,a.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[m&&(0,a.jsxs)("div",{className:"bg-black text-white px-4 py-3 rounded-lg flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"}),m]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 inline mr-2 text-green-600"}),"Email"]}),(0,a.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"seu@email.com",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all bg-gray-50 focus:bg-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 inline mr-2 text-green-600"}),"Senha"]}),(0,a.jsx)("input",{id:"password",type:"password",value:r,onChange:e=>n(e.target.value),required:!0,placeholder:"••••••••",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all bg-gray-50 focus:bg-white"})]}),(0,a.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-4 px-6 rounded-lg font-semibold hover:from-green-700 hover:to-green-800 transition-all transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Entrando..."]}):(0,a.jsxs)(a.Fragment,{children:["Entrar",(0,a.jsx)(h.Z,{className:"w-5 h-5"})]})})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(l(),{href:"/gestao/forgot-password",className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"Esqueci minha senha"})}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,a.jsx)("p",{className:"text-sm text-center text-gray-500 mb-2",children:"Credenciais padr\xe3o:"}),(0,a.jsxs)("div",{className:"text-xs text-center text-gray-400 space-y-1",children:[(0,a.jsx)("p",{children:"Admin: admin@sitehmx.com / password"}),(0,a.jsx)("p",{children:"Gestor: gestor@sitehmx.com / password"})]})]})]})]})]})}},8565:function(e,t,r){"use strict";r.d(t,{H:function(){return i},a:function(){return c}});var a=r(7437),s=r(2265),o=r(4829);let n=window.__API_URL__||"https://clamatec.com/api",l=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e||!t||"undefined"===e||"null"===e||"undefined"===t||"null"===t||""===e.trim()||""===t.trim()){localStorage.removeItem("token"),localStorage.removeItem("user"),h(!1);return}try{let r=JSON.parse(t);if(r&&"object"==typeof r&&r.id)d(e),i(r);else throw Error("User object invalid")}catch(e){console.error("Erro ao fazer parse do usu\xe1rio do localStorage:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}}catch(e){console.error("Erro ao acessar localStorage:",e);try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch(e){}}finally{h(!1)}},[]);let m=async(e,t)=>{try{let{token:r,user:a}=(await o.Z.post("".concat(n,"/login"),{email:e,password:t},{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;d(r),i(a),localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(a))}catch(e){var r,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Erro ao fazer login")}},g=async()=>{if(c)try{await o.Z.post("".concat(n,"/logout"),{},{headers:{Authorization:"Bearer ".concat(c)}})}catch(e){console.error("Erro ao fazer logout:",e)}d(null),i(null),localStorage.removeItem("token"),localStorage.removeItem("user")};return(0,a.jsx)(l.Provider,{value:{user:r,token:c,loading:u,login:m,logout:g},children:t})}function c(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[3803,1396,2971,4938,1744],function(){return e(e.s=118)}),_N_E=e.O()}]);