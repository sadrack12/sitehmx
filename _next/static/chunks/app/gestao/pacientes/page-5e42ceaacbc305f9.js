(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1912],{2894:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3008:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3523:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9224:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},9670:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6637:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},4056:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6264:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},519:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},1295:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6142:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9617:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},2741:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9883:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6245:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},1827:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1138:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7972:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2549:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3438:function(e,t,a){Promise.resolve().then(a.bind(a,4620))},4620:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var s=a(7437),r=a(2265),n=a(8565),l=a(4033),i=a(5950),o=a(3242),c=a(9224),d=a(3523),x=a(1827),u=a(6142),m=a(9883),h=a(7972),g=a(1295),p=a(2741),f=a(6637),y=a(9670),j=a(9617),b=a(1138),v=a(2549),N=a(3008),w=a(1981),k=a(519),Z=a(6245),C=a(9173);function S(e){let{paciente:t,onClose:a,onSuccess:l}=e,{token:i}=(0,n.a)(),[c,d]=(0,r.useState)(!1),[x,m]=(0,r.useState)({}),[h,g]=(0,r.useState)({}),[p,f]=(0,r.useState)({nome:"",nif:"",email:"",telefone:"",data_nascimento:"",endereco:"",cidade:"",estado:""});(0,r.useEffect)(()=>{t&&f({nome:t.nome||"",nif:t.nif||"",email:t.email||"",telefone:t.telefone||"",data_nascimento:t.data_nascimento||"",endereco:t.endereco||"",cidade:t.cidade||"",estado:t.estado||""})},[t]);let y=e=>e.replace(/\D/g,"").slice(0,9),j=e=>{let t=e.replace(/\D/g,"");return t.length<=11?t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):e},b=(e,t)=>{let a={...x};switch(e){case"nome":t.trim()?t.trim().length<3?a.nome="Nome deve ter pelo menos 3 caracteres":delete a.nome:a.nome="Nome \xe9 obrigat\xf3rio";break;case"nif":t.trim()?9!==t.replace(/\D/g,"").length?a.nif="NIF deve ter 9 d\xedgitos":delete a.nif:a.nif="NIF \xe9 obrigat\xf3rio";break;case"email":t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?a.email="Email inv\xe1lido":delete a.email}return m(a),!a[e]},S=e=>{g({...h,[e]:!0}),b(e,p[e])},E=(e,t)=>{"nif"===e&&(t=y(t)),"telefone"===e&&(t=j(t)),f({...p,[e]:t}),h[e]&&b(e,t)},M=async e=>{e.preventDefault();let a={};Object.keys(p).forEach(e=>{a[e]=!0}),g(a);let s=!0;if(Object.keys(p).forEach(e=>{b(e,p[e])||(s=!1)}),!s){o.A.error("Por favor, corrija os erros no formul\xe1rio");return}d(!0);try{let e=t?"".concat("https://clamatec.com/api","/pacientes/").concat(t.id):"".concat("https://clamatec.com/api","/pacientes"),a=await fetch(e,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify(p)});if(!a.ok){let e=await a.json();throw Error(e.message||"Erro ao salvar paciente")}o.A.success(t?"Paciente atualizado com sucesso!":"Paciente cadastrado com sucesso!"),setTimeout(()=>l(),500)}catch(e){o.A.error(e.message||"Erro ao salvar paciente")}finally{d(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:t?"Editar Paciente":"Novo Paciente"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(v.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("form",{onSubmit:M,className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nome Completo ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:p.nome,onChange:e=>E("nome",e.target.value),onBlur:()=>S("nome"),required:!0,placeholder:"Nome completo",className:"w-full px-3 py-2 border rounded-lg focus:ring-1 transition-all bg-white outline-none text-sm ".concat(h.nome&&x.nome?"border-red-500 focus:border-red-500 focus:ring-red-500":h.nome&&!x.nome?"border-green-500":"border-gray-300 focus:border-green-500 focus:ring-green-500")}),h.nome&&!x.nome&&p.nome&&(0,s.jsx)(N.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500"}),h.nome&&x.nome&&(0,s.jsx)(w.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-red-500"})]}),h.nome&&x.nome&&(0,s.jsxs)("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[(0,s.jsx)(w.Z,{className:"w-3 h-3"}),x.nome]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["NIF ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:p.nif,onChange:e=>E("nif",e.target.value),onBlur:()=>S("nif"),required:!0,placeholder:"123456789",maxLength:9,className:"w-full px-3 py-2 border rounded-lg focus:ring-1 transition-all bg-white outline-none text-sm ".concat(h.nif&&x.nif?"border-red-500 focus:border-red-500 focus:ring-red-500":h.nif&&!x.nif&&9===p.nif.length?"border-green-500":"border-gray-300 focus:border-green-500 focus:ring-green-500")}),h.nif&&!x.nif&&9===p.nif.length&&(0,s.jsx)(N.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500"}),h.nif&&x.nif&&(0,s.jsx)(w.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-red-500"})]}),h.nif&&x.nif&&(0,s.jsxs)("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[(0,s.jsx)(w.Z,{className:"w-3 h-3"}),x.nif]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsx)("input",{type:"email",value:p.email,onChange:e=>E("email",e.target.value),onBlur:()=>S("email"),placeholder:"email@exemplo.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 transition-all bg-white outline-none text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),(0,s.jsx)("input",{type:"text",value:p.telefone,onChange:e=>E("telefone",j(e.target.value)),placeholder:"(00) 00000-0000",maxLength:15,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 transition-all bg-white outline-none text-sm"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Nascimento"}),(0,s.jsx)("input",{type:"date",value:p.data_nascimento,onChange:e=>E("data_nascimento",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 transition-all bg-white outline-none text-sm"})]}),(0,s.jsxs)(C.Z,{label:"Estado",value:p.estado,onChange:e=>E("estado",e.target.value),icon:(0,s.jsx)(u.Z,{className:"w-4 h-4"}),children:[(0,s.jsx)("option",{value:"",children:"Selecione o estado"}),(0,s.jsx)("option",{value:"LU",children:"Luanda"}),(0,s.jsx)("option",{value:"MO",children:"Moxico"}),(0,s.jsx)("option",{value:"HU",children:"Huambo"}),(0,s.jsx)("option",{value:"BI",children:"Bi\xe9"}),(0,s.jsx)("option",{value:"BE",children:"Benguela"}),(0,s.jsx)("option",{value:"CU",children:"Cunene"}),(0,s.jsx)("option",{value:"CN",children:"Cuando Cubango"}),(0,s.jsx)("option",{value:"CC",children:"Cuanza Norte"}),(0,s.jsx)("option",{value:"CS",children:"Cuanza Sul"}),(0,s.jsx)("option",{value:"ML",children:"Malanje"}),(0,s.jsx)("option",{value:"UI",children:"U\xedge"}),(0,s.jsx)("option",{value:"ZA",children:"Zaire"}),(0,s.jsx)("option",{value:"CB",children:"Cabinda"}),(0,s.jsx)("option",{value:"LN",children:"Lunda Norte"}),(0,s.jsx)("option",{value:"LS",children:"Lunda Sul"}),(0,s.jsx)("option",{value:"HG",children:"Hu\xedla"}),(0,s.jsx)("option",{value:"NM",children:"Namibe"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),(0,s.jsx)("input",{type:"text",value:p.cidade,onChange:e=>E("cidade",e.target.value),placeholder:"Nome da cidade",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 transition-all bg-white outline-none text-sm"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endere\xe7o"}),(0,s.jsx)("input",{type:"text",value:p.endereco,onChange:e=>E("endereco",e.target.value),placeholder:"Rua, n\xfamero, bairro",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 transition-all bg-white outline-none text-sm"})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end pt-4 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors text-sm font-medium flex items-center gap-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.Z,{className:"w-4 h-4 animate-spin"}),"Salvando..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{className:"w-4 h-4"}),t?"Atualizar":"Salvar"]})})]})]})]})})}var E=a(8203);function M(e){let{pacienteId:t,onClose:a,onEdit:l}=e,{token:o}=(0,n.a)(),[c,d]=(0,r.useState)(null),[x,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{m(!0);let e=await fetch("".concat("https://clamatec.com/api","/pacientes/").concat(t),{headers:{Authorization:"Bearer ".concat(o)}});if(e.ok){let t=await e.json();d(t)}}catch(e){console.error("Erro ao buscar paciente:",e)}finally{m(!1)}})()},[t,o]);let h=e=>({agendada:"bg-yellow-100 text-yellow-800",confirmada:"bg-blue-100 text-blue-800",realizada:"bg-green-100 text-green-800",cancelada:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800";if(x)return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-green-600 border-t-transparent"}),(0,s.jsx)("p",{className:"mt-3 text-sm text-gray-600",children:"Carregando..."})]})});if(!c)return null;let f=(e=>{if(!e)return null;let t=new Date,a=new Date(e),s=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&s--,s})(c.data_nascimento);return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:c.nome}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["NIF: ",c.nif]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("button",{onClick:l,className:"px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4"}),"Editar"]}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:(0,s.jsx)(v.Z,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-3 mb-6",children:[c.data_nascimento&&(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)(E.Z,{className:"w-4 h-4 text-gray-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Data de Nascimento"}),(0,s.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[(0,i.p6)(c.data_nascimento),null!==f&&" (".concat(f," anos)")]})]})]}),c.email&&(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)(g.Z,{className:"w-4 h-4 text-gray-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.email})]})]}),c.telefone&&(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 text-gray-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Telefone"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.telefone})]})]}),(c.cidade||c.estado)&&(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 text-gray-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Localiza\xe7\xe3o"}),(0,s.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[c.cidade,c.estado&&", ".concat(c.estado)]})]})]})]}),c.consultas&&c.consultas.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Hist\xf3rico de Consultas (",c.consultas.length,")"]}),(0,s.jsx)("div",{className:"space-y-2",children:c.consultas.map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 hover:border-green-500 hover:bg-green-50/50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.tipo_consulta}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 mt-1",children:[(0,s.jsx)("span",{children:(0,i.p6)(e.data_consulta,"EEEE, dd/MM/yyyy")}),(0,s.jsx)("span",{children:e.hora_consulta})]}),e.medico&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.medico.nome,e.medico.especialidade&&" - ".concat(e.medico.especialidade)]})]}),(0,s.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(h(e.status)),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),e.observacoes&&(0,s.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Observa\xe7\xf5es:"}),(0,s.jsx)("p",{className:"text-xs text-gray-700",children:e.observacoes})]})]},e.id))})]})]})]})})}var z=a(3930);function L(){let{token:e}=(0,n.a)(),[t,a]=(0,r.useState)([]),[l,v]=(0,r.useState)(!0),[N,w]=(0,r.useState)(""),[k,Z]=(0,r.useState)({estado:""}),[E,L]=(0,r.useState)({field:"nome",direction:"asc"}),[A,I]=(0,r.useState)(!1),[_,B]=(0,r.useState)(!1),[P,U]=(0,r.useState)(null),[D,O]=(0,r.useState)(null),[T,H]=(0,r.useState)({isOpen:!1,id:null}),q=(0,r.useCallback)(async()=>{try{v(!0);let t=new URLSearchParams;N&&t.append("search",N),k.estado&&t.append("estado",k.estado);let s="".concat("https://clamatec.com/api","/pacientes").concat(t.toString()?"?"+t.toString():""),r=await fetch(s,{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){let e=await r.json();a(e.data||e||[])}}catch(e){o.A.error("Erro ao carregar pacientes")}finally{v(!1)}},[e,N,k]);(0,r.useEffect)(()=>{q()},[q]);let F=e=>{if(!e)return null;let t=new Date,a=new Date(e),s=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&s--,s},V=e=>{L({field:e,direction:E.field===e&&"asc"===E.direction?"desc":"asc"})},R=[...t].sort((e,t)=>{let a=e[E.field],s=t[E.field];return("nome"===E.field&&(a=(null==a?void 0:a.toLowerCase())||"",s=(null==s?void 0:s.toLowerCase())||""),null==a)?1:null==s?-1:a<s?"asc"===E.direction?-1:1:a>s?"asc"===E.direction?1:-1:0}),Y=e=>{let{field:t}=e;return E.field!==t?null:"asc"===E.direction?(0,s.jsx)(c.Z,{className:"w-4 h-4"}):(0,s.jsx)(d.Z,{className:"w-4 h-4"})},$=async()=>{if(T.id)try{(await fetch("".concat("https://clamatec.com/api","/pacientes/").concat(T.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})).ok?(o.A.success("Paciente exclu\xeddo com sucesso!"),q()):o.A.error("Erro ao excluir paciente")}catch(e){o.A.error("Erro ao excluir paciente")}finally{H({isOpen:!1,id:null})}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Pacientes"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Gerencie o cadastro de pacientes"})]})})}),(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)("input",{type:"text",value:N,onChange:e=>w(e.target.value),placeholder:"Buscar...",className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none text-sm"})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(C.Z,{value:k.estado,onChange:e=>Z({...k,estado:e.target.value}),icon:(0,s.jsx)(u.Z,{className:"w-4 h-4"}),children:[(0,s.jsx)("option",{value:"",children:"Todos os estados"}),(0,s.jsx)("option",{value:"LU",children:"Luanda"}),(0,s.jsx)("option",{value:"MO",children:"Moxico"}),(0,s.jsx)("option",{value:"HU",children:"Huambo"}),(0,s.jsx)("option",{value:"BI",children:"Bi\xe9"}),(0,s.jsx)("option",{value:"BE",children:"Benguela"}),(0,s.jsx)("option",{value:"CU",children:"Cunene"}),(0,s.jsx)("option",{value:"CN",children:"Cuando Cubango"}),(0,s.jsx)("option",{value:"CC",children:"Cuanza Norte"}),(0,s.jsx)("option",{value:"CS",children:"Cuanza Sul"}),(0,s.jsx)("option",{value:"ML",children:"Malanje"}),(0,s.jsx)("option",{value:"UI",children:"U\xedge"}),(0,s.jsx)("option",{value:"ZA",children:"Zaire"}),(0,s.jsx)("option",{value:"CB",children:"Cabinda"}),(0,s.jsx)("option",{value:"LN",children:"Lunda Norte"}),(0,s.jsx)("option",{value:"LS",children:"Lunda Sul"}),(0,s.jsx)("option",{value:"HG",children:"Hu\xedla"}),(0,s.jsx)("option",{value:"NM",children:"Namibe"})]}),(0,s.jsxs)("button",{onClick:()=>{U(null),I(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium flex items-center gap-1",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4"}),"Novo"]})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:l?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-green-600 border-t-transparent"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Carregando..."})]}):0===t.length?(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-8 text-center border border-gray-200",children:[(0,s.jsx)(h.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:N||k.estado?"Nenhum paciente encontrado":"Nenhum paciente cadastrado"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:(0,s.jsxs)("button",{onClick:()=>V("nome"),className:"flex items-center gap-1 text-xs font-medium text-gray-700 uppercase hover:text-gray-900 transition-colors",children:["Nome",(0,s.jsx)(Y,{field:"nome"})]})}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:(0,s.jsxs)("button",{onClick:()=>V("nif"),className:"flex items-center gap-1 text-xs font-medium text-gray-700 uppercase hover:text-gray-900 transition-colors",children:["NIF",(0,s.jsx)(Y,{field:"nif"})]})}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Contato"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Idade"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Localiza\xe7\xe3o"}),(0,s.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700 uppercase",children:"Consultas"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:R.map(e=>{let t=F(e.data_nascimento);return(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(h.Z,{className:"w-4 h-4 text-green-600"})}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:e.nome})]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.nif})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"space-y-0.5",children:[e.email&&(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[(0,s.jsx)(g.Z,{className:"w-3.5 h-3.5 text-gray-400"}),(0,s.jsx)("span",{className:"truncate max-w-[200px]",children:e.email})]}),e.telefone&&(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[(0,s.jsx)(p.Z,{className:"w-3.5 h-3.5 text-gray-400"}),(0,s.jsx)("span",{children:e.telefone})]}),!e.email&&!e.telefone&&(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"-"})]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.data_nascimento?(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,s.jsx)("div",{children:null!==t?"".concat(t," anos"):"-"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:(0,i.p6)(e.data_nascimento)})]}):(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"-"})}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.cidade||e.estado?(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-700",children:[(0,s.jsx)(u.Z,{className:"w-3.5 h-3.5 text-gray-400"}),(0,s.jsxs)("span",{children:[e.cidade,e.estado&&", ".concat(e.estado)]})]}):(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"-"})}),(0,s.jsx)("td",{className:"px-4 py-3 text-center",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,s.jsx)(f.Z,{className:"w-3.5 h-3.5 text-gray-400"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.consultas_count||0})]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,s.jsx)("button",{onClick:()=>{O(e),B(!0)},className:"p-1.5 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Ver detalhes",children:(0,s.jsx)(y.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>{U(e),I(!0)},className:"p-1.5 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Editar",children:(0,s.jsx)(j.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>H({isOpen:!0,id:e.id}),className:"p-1.5 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Excluir",children:(0,s.jsx)(b.Z,{className:"w-4 h-4"})})]})})]},e.id)})})]})}),(0,s.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200",children:(0,s.jsxs)("p",{className:"text-xs text-gray-600",children:["Total: ",(0,s.jsx)("span",{className:"font-medium text-gray-900",children:t.length})," paciente",1!==t.length?"s":""]})})]})}),A&&(0,s.jsx)(S,{paciente:P,onClose:()=>{I(!1),U(null)},onSuccess:()=>{I(!1),U(null),q()}}),_&&D&&(0,s.jsx)(M,{pacienteId:D.id,onClose:()=>{B(!1),O(null)},onEdit:()=>{B(!1),U(D),I(!0)}}),(0,s.jsx)(z.Z,{isOpen:T.isOpen,title:"Confirmar Exclus\xe3o",message:"Tem certeza que deseja excluir este paciente? Esta a\xe7\xe3o n\xe3o pode ser desfeita e o paciente pode ter consultas associadas.",confirmText:"Excluir",cancelText:"Cancelar",type:"danger",onConfirm:$,onCancel:()=>H({isOpen:!1,id:null})})]})}var A=a(6264);function I(){let{user:e,loading:t}=(0,n.a)(),a=(0,l.useRouter)();return((0,r.useEffect)(()=>{t||e||a.push("/gestao/login")},[e,t,a]),t)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)(A.Z,{className:"w-8 h-8 animate-spin text-green-600"})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsx)("div",{className:"max-w-[95rem] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsx)(L,{})})})}},3930:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(7437),r=a(2894),n=a(2549);function l(e){let{isOpen:t,title:a,message:l,confirmText:i="Confirmar",cancelText:o="Cancelar",onConfirm:c,onCancel:d,type:x="danger"}=e;if(!t)return null;let u=(()=>{switch(x){case"danger":return{button:"bg-red-600 hover:bg-red-700 text-white",icon:"text-red-600",border:"border-red-200"};case"warning":return{button:"bg-yellow-600 hover:bg-yellow-700 text-white",icon:"text-yellow-600",border:"border-yellow-200"};default:return{button:"bg-blue-600 hover:bg-blue-700 text-white",icon:"text-blue-600",border:"border-blue-200"}}})();return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full border-2 border-gray-200 animate-in zoom-in-95 duration-200",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 ".concat(u.icon),children:(0,s.jsx)(r.Z,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:a}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:l})]}),(0,s.jsx)("button",{onClick:d,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(n.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,s.jsx)("button",{onClick:d,className:"px-4 py-2 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-semibold text-gray-700",children:o}),(0,s.jsx)("button",{onClick:c,className:"px-4 py-2 rounded-lg transition-colors font-semibold shadow-sm ".concat(u.button),children:i})]})]})})})}},9173:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(7437),r=a(3523);function n(e){let{children:t,label:a,error:n,icon:l,className:i="",options:o,...c}=e;return(0,s.jsxs)("div",{className:a?"w-full":"",children:[a&&(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[a,c.required&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[l&&(0,s.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none z-10",children:l}),(0,s.jsx)("select",{...c,className:"\n            ".concat(a?"w-full":"min-w-[140px]"," \n            ").concat(l?"pl-10":"pl-3"," \n            pr-10 \n            py-2.5 \n            border \n            border-gray-300 \n            rounded-lg \n            bg-white\n            text-sm\n            text-gray-900\n            font-medium\n            appearance-none\n            cursor-pointer\n            transition-all\n            duration-200\n            focus:ring-2 \n            focus:ring-green-500/50\n            focus:border-green-500 \n            outline-none\n            hover:border-gray-400\n            hover:bg-gray-50\n            disabled:bg-gray-100 \n            disabled:cursor-not-allowed\n            disabled:text-gray-500\n            disabled:border-gray-200\n            ").concat(n?"border-red-500 focus:border-red-500 focus:ring-red-500/50":"","\n            ").concat(i,"\n          "),children:o?o.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value)):t}),(0,s.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-gray-500",children:(0,s.jsx)(r.Z,{className:"w-4 h-4"})})]}),n&&(0,s.jsxs)("p",{className:"mt-1.5 text-xs text-red-600 flex items-center gap-1",children:[(0,s.jsx)("span",{children:"âš "}),n]})]})}},3242:function(e,t,a){"use strict";a.d(t,{A:function(){return h},I:function(){return g}});var s=a(7437),r=a(2265),n=a(3008),l=a(1981),i=a(2894),o=a(4056),c=a(2549);let d=0,x=[],u=[],m=()=>{x.forEach(e=>e([...u]))},h={show:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,s="toast-".concat(++d);return u.push({id:s,message:e,type:t,duration:a}),m(),a>0&&setTimeout(()=>{h.remove(s)},a),s},success:(e,t)=>h.show(e,"success",t),error:(e,t)=>h.show(e,"error",t),info:(e,t)=>h.show(e,"info",t),warning:(e,t)=>h.show(e,"warning",t),remove:e=>{u=u.filter(t=>t.id!==e),m()}};function g(){let[e,t]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=e=>{t(e)};return x.push(e),t([...u]),()=>{x=x.filter(t=>t!==e)}},[]);let a=e=>{switch(e){case"success":return(0,s.jsx)(n.Z,{className:"w-5 h-5 text-green-600"});case"error":return(0,s.jsx)(l.Z,{className:"w-5 h-5 text-red-600"});case"warning":return(0,s.jsx)(i.Z,{className:"w-5 h-5 text-yellow-600"});default:return(0,s.jsx)(o.Z,{className:"w-5 h-5 text-blue-600"})}},d=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return 0===e.length?null:(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md w-full",children:e.map(e=>(0,s.jsxs)("div",{className:"\n            ".concat(d(e.type),"\n            border-2 rounded-xl shadow-lg p-4 flex items-start gap-3\n            animate-in slide-in-from-right-full duration-300\n            backdrop-blur-sm\n          "),children:[(0,s.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:a(e.type)}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("p",{className:"text-sm font-semibold break-words",children:e.message})}),(0,s.jsx)("button",{onClick:()=>e.remove(e.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(c.Z,{className:"w-4 h-4"})})]},e.id))})}},8565:function(e,t,a){"use strict";a.d(t,{H:function(){return o},a:function(){return c}});var s=a(7437),r=a(2265),n=a(4829);let l=window.__API_URL__||"https://clamatec.com/api",i=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[x,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e||!t||"undefined"===e||"null"===e||"undefined"===t||"null"===t||""===e.trim()||""===t.trim()){localStorage.removeItem("token"),localStorage.removeItem("user"),u(!1);return}try{let a=JSON.parse(t);if(a&&"object"==typeof a&&a.id)d(e),o(a);else throw Error("User object invalid")}catch(e){console.error("Erro ao fazer parse do usu\xe1rio do localStorage:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}}catch(e){console.error("Erro ao acessar localStorage:",e);try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch(e){}}finally{u(!1)}},[]);let m=async(e,t)=>{try{let{token:a,user:s}=(await n.Z.post("".concat(l,"/login"),{email:e,password:t},{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;d(a),o(s),localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s))}catch(e){var a,s;throw Error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Erro ao fazer login")}},h=async()=>{if(c)try{await n.Z.post("".concat(l,"/logout"),{},{headers:{Authorization:"Bearer ".concat(c)}})}catch(e){console.error("Erro ao fazer logout:",e)}d(null),o(null),localStorage.removeItem("token"),localStorage.removeItem("user")};return(0,s.jsx)(i.Provider,{value:{user:a,token:c,loading:x,login:m,logout:h},children:t})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5950:function(e,t,a){"use strict";a.d(t,{cn:function(){return l},p6:function(){return n}});var s=a(3826),r=a(2836);let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy";try{let a="string"==typeof e?new Date(e):e;return(0,s.WU)(a,t,{locale:r.F})}catch(t){return e.toString()}},l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}},4033:function(e,t,a){e.exports=a(5313)}},function(e){e.O(0,[3803,8481,2971,4938,1744],function(){return e(e.s=3438)}),_N_E=e.O()}]);