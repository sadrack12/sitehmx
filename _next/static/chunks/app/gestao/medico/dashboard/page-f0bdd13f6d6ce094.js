(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2897],{998:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},2894:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3008:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3523:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9224:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},7619:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},6141:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7982:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]])},6637:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},7810:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},8244:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},4056:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6264:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},519:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},9617:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},5073:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]])},9883:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5713:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]])},6245:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},1827:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7607:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},9275:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]])},1138:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7972:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2104:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2549:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1366:function(e,t,a){Promise.resolve().then(a.bind(a,510))},510:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(7437),r=a(2265),n=a(8565),i=a(4033),l=a(6264),c=a(8203),o=a(6141),d=a(7619),u=a(5950),x=a(3242),m=a(6568),h=a(1397);function p(){let{user:e,token:t,loading:a}=(0,n.a)(),p=(0,i.useRouter)(),[y,g]=(0,r.useState)([]),[f,b]=(0,r.useState)(!0),[v,j]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1),[w,Z]=(0,r.useState)(null);(0,r.useEffect)(()=>{a||e?e&&"medico"!==e.role&&p.push("/gestao/dashboard"):p.push("/gestao/login")},[e,a,p]),(0,r.useEffect)(()=>{t&&(null==e?void 0:e.role)==="medico"&&_()},[t,e]);let _=async()=>{try{b(!0);let e=await fetch("".concat("https://clamatec.com/api","/me"),{headers:{Authorization:"Bearer ".concat(t)}});if(!e.ok)throw Error("Erro ao buscar dados do m\xe9dico");let a=(await e.json()).medico_id;if(!a){x.A.error("Usu\xe1rio n\xe3o est\xe1 vinculado a um m\xe9dico");return}let s=await fetch("".concat("https://clamatec.com/api","/consultas?medico_id=").concat(a),{headers:{Authorization:"Bearer ".concat(t)}});if(s.ok){let e=await s.json();g(e.data||e||[])}else throw Error("Erro ao carregar consultas")}catch(e){console.error("Erro ao buscar consultas:",e),x.A.error("Erro ao carregar consultas")}finally{b(!1)}},M={total:y.length,hoje:y.filter(e=>{let t=new Date().toISOString().split("T")[0];return e.data_consulta===t}).length,agendadas:y.filter(e=>"agendada"===e.status).length,confirmadas:y.filter(e=>"confirmada"===e.status).length,realizadas:y.filter(e=>"realizada"===e.status).length},C=y.filter(e=>{let t=new Date().toISOString().split("T")[0];return e.data_consulta===t}).sort((e,t)=>e.hora_consulta.localeCompare(t.hora_consulta)),z=y.filter(e=>{let t=new Date;return new Date(e.data_consulta)>=t&&("agendada"===e.status||"confirmada"===e.status)}).sort((e,t)=>{let a=new Date("".concat(e.data_consulta," ").concat(e.hora_consulta)),s=new Date("".concat(t.data_consulta," ").concat(t.hora_consulta));return a.getTime()-s.getTime()}).slice(0,5),E=e=>(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat({agendada:"bg-yellow-100 text-yellow-700",confirmada:"bg-blue-100 text-blue-700",realizada:"bg-green-100 text-green-700",cancelada:"bg-red-100 text-red-700"}[e]||"bg-gray-100 text-gray-700"),children:e.charAt(0).toUpperCase()+e.slice(1)});return a||f?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)(l.Z,{className:"w-8 h-8 animate-spin text-green-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Painel do M\xe9dico"}),(0,s.jsxs)("p",{className:"text-gray-600 mt-1",children:["Bem-vindo, ",null==e?void 0:e.name]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Total"}),(0,s.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:M.total})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-xs text-blue-700 mb-1",children:"Hoje"}),(0,s.jsx)("div",{className:"text-2xl font-semibold text-blue-900",children:M.hoje})]}),(0,s.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-xs text-yellow-700 mb-1",children:"Agendadas"}),(0,s.jsx)("div",{className:"text-2xl font-semibold text-yellow-900",children:M.agendadas})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-xs text-blue-700 mb-1",children:"Confirmadas"}),(0,s.jsx)("div",{className:"text-2xl font-semibold text-blue-900",children:M.confirmadas})]}),(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-xs text-green-700 mb-1",children:"Realizadas"}),(0,s.jsx)("div",{className:"text-2xl font-semibold text-green-900",children:M.realizadas})]})]}),C.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-blue-50",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-5 h-5 text-blue-600"}),"Consultas de Hoje"]})}),(0,s.jsx)("div",{className:"divide-y divide-gray-200",children:C.map(e=>{var t,a;return(0,s.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{Z(e),j(!0)},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.hora_consulta}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"-"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:null===(t=e.paciente)||void 0===t?void 0:t.nome}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["(",null===(a=e.paciente)||void 0===a?void 0:a.nif,")"]})]}),(0,s.jsx)("div",{className:"mt-1 text-sm text-gray-600",children:e.tipo_consulta})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[E(e.status),!e.queixa_principal&&"realizada"===e.status&&(0,s.jsxs)("button",{onClick:t=>{t.stopPropagation(),Z(e),k(!0)},className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors flex items-center gap-1",children:[(0,s.jsx)(d.Z,{className:"w-3 h-3"}),"Anamnese"]})]})]})},e.id)})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-5 h-5 text-green-600"}),"Pr\xf3ximas Consultas"]})}),0===z.length?(0,s.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,s.jsx)(c.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,s.jsx)("p",{children:"Nenhuma consulta agendada"})]}):(0,s.jsx)("div",{className:"divide-y divide-gray-200",children:z.map(e=>{var t;return(0,s.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{Z(e),j(!0)},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(0,u.p6)(e.data_consulta,"EEEE, dd/MM/yyyy")}),(0,s.jsx)(o.Z,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.hora_consulta}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"-"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:null===(t=e.paciente)||void 0===t?void 0:t.nome})]}),(0,s.jsx)("div",{className:"mt-1 text-sm text-gray-600",children:e.tipo_consulta})]}),E(e.status)]})},e.id)})})]}),v&&w&&(0,s.jsx)(m.Z,{consulta:w,onClose:()=>{j(!1),Z(null)},onEdit:()=>{j(!1),x.A.info("Edi\xe7\xe3o de consultas deve ser feita pelo administrador")},onStatusChange:()=>{_(),j(!1),Z(null)}}),N&&w&&(0,s.jsx)(h.Z,{consulta:w,onClose:()=>{k(!1),Z(null)},onSuccess:()=>{k(!1),Z(null),_()}})]})}},1397:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var s=a(7437),r=a(2265),n=a(8565),i=a(3242),l=a(6637),c=a(998),o=a(7810),d=a(9275),u=a(519),x=a(6245);function m(e){var t;let{consulta:a,onClose:m,onSuccess:h,inline:p=!1}=e,{token:y}=(0,n.a)(),[g,f]=(0,r.useState)(!1),[b,v]=(0,r.useState)({queixa_principal:"",exame_fisico:"",pressao_arterial:"",frequencia_cardiaca:"",temperatura:"",diagnostico:""});(0,r.useEffect)(()=>{a&&v({queixa_principal:a.queixa_principal||"",exame_fisico:a.exame_fisico||"",pressao_arterial:a.pressao_arterial||"",frequencia_cardiaca:a.frequencia_cardiaca||"",temperatura:a.temperatura||"",diagnostico:a.diagnostico||""})},[a]);let j=async e=>{e.preventDefault(),f(!0);try{let e=await fetch("".concat("https://clamatec.com/api","/consultas/").concat(a.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y)},body:JSON.stringify(b)});if(!e.ok){let t=await e.json();throw Error(t.message||"Erro ao salvar anamnese")}i.A.success("Anamnese salva com sucesso!"),setTimeout(()=>h(),500)}catch(e){i.A.error(e.message||"Erro ao salvar anamnese")}finally{f(!1)}},N=(0,s.jsxs)("div",{className:"".concat(p?"w-full h-full":"bg-white rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh]"," overflow-y-auto"),children:[!p&&(0,s.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Ficha de Anamnese"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-0.5",children:[null===(t=a.paciente)||void 0===t?void 0:t.nome," - ",a.tipo_consulta]})]}),(0,s.jsx)("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:"\xd7"})]}),(0,s.jsxs)("form",{onSubmit:j,className:"".concat(p?"p-4":"p-6"," space-y-4"),children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Anamnese"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Queixa Principal ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("textarea",{value:b.queixa_principal,onChange:e=>v({...b,queixa_principal:e.target.value}),required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none resize-none text-sm",placeholder:"Descreva a queixa principal do paciente..."})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(c.Z,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Exame F\xedsico e Sinais Vitais"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exame F\xedsico"}),(0,s.jsx)("textarea",{value:b.exame_fisico,onChange:e=>v({...b,exame_fisico:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none resize-none text-sm",placeholder:"Descreva o exame f\xedsico realizado..."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 text-red-500"}),"Press\xe3o Arterial"]}),(0,s.jsx)("input",{type:"text",value:b.pressao_arterial,onChange:e=>v({...b,pressao_arterial:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none text-sm",placeholder:"Ex: 120/80"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 text-red-500"}),"FC (bpm)"]}),(0,s.jsx)("input",{type:"text",value:b.frequencia_cardiaca,onChange:e=>v({...b,frequencia_cardiaca:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none text-sm",placeholder:"Ex: 72"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 text-orange-500"}),"Temperatura (\xb0C)"]}),(0,s.jsx)("input",{type:"text",value:b.temperatura,onChange:e=>v({...b,temperatura:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none text-sm",placeholder:"Ex: 36.5"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Diagn\xf3stico"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagn\xf3stico"}),(0,s.jsx)("textarea",{value:b.diagnostico,onChange:e=>v({...b,diagnostico:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none resize-none text-sm",placeholder:"Descreva o diagn\xf3stico..."})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end pt-4 border-t border-gray-200",children:[!p&&(0,s.jsx)("button",{type:"button",onClick:m,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors text-sm font-medium flex items-center gap-2",children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}),"Salvando..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),"Salvar Anamnese"]})})]})]})]});return p?N:(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:N})}},4033:function(e,t,a){e.exports=a(5313)}},function(e){e.O(0,[3803,8481,6568,2971,4938,1744],function(){return e(e.s=1366)}),_N_E=e.O()}]);