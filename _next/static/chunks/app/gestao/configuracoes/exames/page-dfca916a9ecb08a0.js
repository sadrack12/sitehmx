(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6192],{1981:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2894:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3008:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3523:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3030:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]])},4056:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6264:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9617:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9883:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1138:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2549:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8622:function(e,r,t){Promise.resolve().then(t.bind(t,698))},698:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var a=t(7437),s=t(2265),o=t(8565),n=t(4033),l=t(6264),i=t(9883),c=t(3030),d=t(9617),u=t(1138),x=t(3242),m=t(3930),h=t(9173);function g(){let{user:e,token:r,loading:t}=(0,o.a)(),g=(0,n.useRouter)(),[p,f]=(0,s.useState)([]),[y,b]=(0,s.useState)(!0),[v,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)(null),[k,Z]=(0,s.useState)({codigo:"",nome:"",descricao:"",tipo:"laboratorio",valor:"",prazo_resultado:"",preparo:"",requer_jejum:!1,ativo:!0}),[E,C]=(0,s.useState)(!1),[S,z]=(0,s.useState)({isOpen:!1,id:null});(0,s.useEffect)(()=>{t||e?e&&"admin"!==e.role&&g.push("/gestao/dashboard"):g.push("/gestao/login")},[e,t,g]),(0,s.useEffect)(()=>{r&&_()},[r]);let _=async()=>{try{let e=await fetch("".concat("https://clamatec.com/api","/admin/exames"),{headers:{Authorization:"Bearer ".concat(r)}});if(e.ok){let r=await e.json();f(r.data||[])}}catch(e){x.A.error("Erro ao carregar exames")}finally{b(!1)}},A=async e=>{e.preventDefault(),C(!0);try{let e=N?"".concat("https://clamatec.com/api","/admin/exames/").concat(N.id):"".concat("https://clamatec.com/api","/admin/exames"),t={...k,valor:k.valor?parseFloat(k.valor):null,prazo_resultado:k.prazo_resultado?parseInt(k.prazo_resultado):null},a=await fetch(e,{method:N?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)});if(!a.ok){let e=await a.json();throw Error(e.message||"Erro ao salvar exame")}x.A.success(N?"Exame atualizado!":"Exame criado!"),M(),_()}catch(e){x.A.error(e.message||"Erro ao salvar exame")}finally{C(!1)}},I=e=>{var r,t;w(e),Z({codigo:e.codigo,nome:e.nome,descricao:e.descricao||"",tipo:e.tipo,valor:(null===(r=e.valor)||void 0===r?void 0:r.toString())||"",prazo_resultado:(null===(t=e.prazo_resultado)||void 0===t?void 0:t.toString())||"",preparo:e.preparo||"",requer_jejum:e.requer_jejum,ativo:e.ativo}),j(!0)},q=async()=>{if(S.id)try{if((await fetch("".concat("https://clamatec.com/api","/admin/exames/").concat(S.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}})).ok)x.A.success("Exame removido!"),_();else throw Error("Erro ao remover exame")}catch(e){x.A.error("Erro ao remover exame")}finally{z({isOpen:!1,id:null})}},M=()=>{Z({codigo:"",nome:"",descricao:"",tipo:"laboratorio",valor:"",prazo_resultado:"",preparo:"",requer_jejum:!1,ativo:!0}),w(null),j(!1)},O=e=>({laboratorio:"Laborat\xf3rio",imagem:"Imagem",clinico:"Cl\xednico",outro:"Outro"})[e]||e;return t||y?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(l.Z,{className:"w-8 h-8 animate-spin text-green-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Exames"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Gerencie os exames dispon\xedveis no hospital"})]}),(0,a.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5"}),"Novo Exame"]})]}),v&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:N?"Editar Exame":"Novo Exame"}),(0,a.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["C\xf3digo ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:k.codigo,onChange:e=>Z({...k,codigo:e.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none text-sm",placeholder:"Ex: LAB001, IMG001"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nome ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:k.nome,onChange:e=>Z({...k,nome:e.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none text-sm",placeholder:"Nome do exame"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,a.jsx)("textarea",{value:k.descricao,onChange:e=>Z({...k,descricao:e.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none resize-none text-sm",placeholder:"Descri\xe7\xe3o do exame..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(h.Z,{label:"Tipo",value:k.tipo,onChange:e=>Z({...k,tipo:e.target.value}),required:!0,children:[(0,a.jsx)("option",{value:"laboratorio",children:"Laborat\xf3rio"}),(0,a.jsx)("option",{value:"imagem",children:"Imagem"}),(0,a.jsx)("option",{value:"clinico",children:"Cl\xednico"}),(0,a.jsx)("option",{value:"outro",children:"Outro"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (Kz)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:k.valor,onChange:e=>Z({...k,valor:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none text-sm",placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prazo (dias)"}),(0,a.jsx)("input",{type:"number",value:k.prazo_resultado,onChange:e=>Z({...k,prazo_resultado:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none text-sm",placeholder:"Ex: 3"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preparo"}),(0,a.jsx)("textarea",{value:k.preparo,onChange:e=>Z({...k,preparo:e.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-green-500 focus:border-green-500 outline-none resize-none text-sm",placeholder:"Instru\xe7\xf5es de preparo para o paciente..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"requer_jejum",checked:k.requer_jejum,onChange:e=>Z({...k,requer_jejum:e.target.checked}),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),(0,a.jsx)("label",{htmlFor:"requer_jejum",className:"text-sm font-medium text-gray-700",children:"Requer jejum"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"ativo",checked:k.ativo,onChange:e=>Z({...k,ativo:e.target.checked}),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),(0,a.jsx)("label",{htmlFor:"ativo",className:"text-sm font-medium text-gray-700",children:"Exame ativo"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end pt-4 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:M,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",disabled:E,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors text-sm font-medium flex items-center gap-2",children:E?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 animate-spin"}),"Salvando..."]}):(0,a.jsx)(a.Fragment,{children:N?"Atualizar":"Salvar"})})]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"C\xf3digo"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Nome"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Tipo"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Valor"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Prazo"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===p.length?(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,a.jsx)("p",{children:"Nenhum exame cadastrado"})]})}):p.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.codigo})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.nome})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"text-sm text-gray-700",children:O(e.tipo)})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"text-sm text-gray-700",children:e.valor?"Kz ".concat(Number(e.valor).toFixed(2)):"-"})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"text-sm text-gray-700",children:e.prazo_resultado?"".concat(e.prazo_resultado," dias"):"-"})}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.ativo?(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Ativo"}):(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:"Inativo"})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>I(e),className:"p-1.5 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Editar",children:(0,a.jsx)(d.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>z({isOpen:!0,id:e.id}),className:"p-1.5 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Excluir",children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),(0,a.jsx)(m.Z,{isOpen:S.isOpen,title:"Confirmar Exclus\xe3o",message:"Tem certeza que deseja excluir este exame? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",type:"danger",onConfirm:q,onCancel:()=>z({isOpen:!1,id:null})})]})}},3930:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});var a=t(7437),s=t(2894),o=t(2549);function n(e){let{isOpen:r,title:t,message:n,confirmText:l="Confirmar",cancelText:i="Cancelar",onConfirm:c,onCancel:d,type:u="danger"}=e;if(!r)return null;let x=(()=>{switch(u){case"danger":return{button:"bg-red-600 hover:bg-red-700 text-white",icon:"text-red-600",border:"border-red-200"};case"warning":return{button:"bg-yellow-600 hover:bg-yellow-700 text-white",icon:"text-yellow-600",border:"border-yellow-200"};default:return{button:"bg-blue-600 hover:bg-blue-700 text-white",icon:"text-blue-600",border:"border-blue-200"}}})();return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full border-2 border-gray-200 animate-in zoom-in-95 duration-200",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 ".concat(x.icon),children:(0,a.jsx)(s.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:t}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:n})]}),(0,a.jsx)("button",{onClick:d,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(o.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,a.jsx)("button",{onClick:d,className:"px-4 py-2 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-semibold text-gray-700",children:i}),(0,a.jsx)("button",{onClick:c,className:"px-4 py-2 rounded-lg transition-colors font-semibold shadow-sm ".concat(x.button),children:l})]})]})})})}},9173:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var a=t(7437),s=t(3523);function o(e){let{children:r,label:t,error:o,icon:n,className:l="",options:i,...c}=e;return(0,a.jsxs)("div",{className:t?"w-full":"",children:[t&&(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[t,c.required&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[n&&(0,a.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none z-10",children:n}),(0,a.jsx)("select",{...c,className:"\n            ".concat(t?"w-full":"min-w-[140px]"," \n            ").concat(n?"pl-10":"pl-3"," \n            pr-10 \n            py-2.5 \n            border \n            border-gray-300 \n            rounded-lg \n            bg-white\n            text-sm\n            text-gray-900\n            font-medium\n            appearance-none\n            cursor-pointer\n            transition-all\n            duration-200\n            focus:ring-2 \n            focus:ring-green-500/50\n            focus:border-green-500 \n            outline-none\n            hover:border-gray-400\n            hover:bg-gray-50\n            disabled:bg-gray-100 \n            disabled:cursor-not-allowed\n            disabled:text-gray-500\n            disabled:border-gray-200\n            ").concat(o?"border-red-500 focus:border-red-500 focus:ring-red-500/50":"","\n            ").concat(l,"\n          "),children:i?i.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value)):r}),(0,a.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-gray-500",children:(0,a.jsx)(s.Z,{className:"w-4 h-4"})})]}),o&&(0,a.jsxs)("p",{className:"mt-1.5 text-xs text-red-600 flex items-center gap-1",children:[(0,a.jsx)("span",{children:"âš "}),o]})]})}},3242:function(e,r,t){"use strict";t.d(r,{A:function(){return h},I:function(){return g}});var a=t(7437),s=t(2265),o=t(3008),n=t(1981),l=t(2894),i=t(4056),c=t(2549);let d=0,u=[],x=[],m=()=>{u.forEach(e=>e([...x]))},h={show:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a="toast-".concat(++d);return x.push({id:a,message:e,type:r,duration:t}),m(),t>0&&setTimeout(()=>{h.remove(a)},t),a},success:(e,r)=>h.show(e,"success",r),error:(e,r)=>h.show(e,"error",r),info:(e,r)=>h.show(e,"info",r),warning:(e,r)=>h.show(e,"warning",r),remove:e=>{x=x.filter(r=>r.id!==e),m()}};function g(){let[e,r]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=e=>{r(e)};return u.push(e),r([...x]),()=>{u=u.filter(r=>r!==e)}},[]);let t=e=>{switch(e){case"success":return(0,a.jsx)(o.Z,{className:"w-5 h-5 text-green-600"});case"error":return(0,a.jsx)(n.Z,{className:"w-5 h-5 text-red-600"});case"warning":return(0,a.jsx)(l.Z,{className:"w-5 h-5 text-yellow-600"});default:return(0,a.jsx)(i.Z,{className:"w-5 h-5 text-blue-600"})}},d=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return 0===e.length?null:(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md w-full",children:e.map(e=>(0,a.jsxs)("div",{className:"\n            ".concat(d(e.type),"\n            border-2 rounded-xl shadow-lg p-4 flex items-start gap-3\n            animate-in slide-in-from-right-full duration-300\n            backdrop-blur-sm\n          "),children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:t(e.type)}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("p",{className:"text-sm font-semibold break-words",children:e.message})}),(0,a.jsx)("button",{onClick:()=>e.remove(e.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})})]},e.id))})}},8565:function(e,r,t){"use strict";t.d(r,{H:function(){return i},a:function(){return c}});var a=t(7437),s=t(2265),o=t(4829);let n=window.__API_URL__||"https://clamatec.com/api",l=(0,s.createContext)(void 0);function i(e){let{children:r}=e,[t,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,x]=(0,s.useState)(!0);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("token"),r=localStorage.getItem("user");if(!e||!r||"undefined"===e||"null"===e||"undefined"===r||"null"===r||""===e.trim()||""===r.trim()){localStorage.removeItem("token"),localStorage.removeItem("user"),x(!1);return}try{let t=JSON.parse(r);if(t&&"object"==typeof t&&t.id)d(e),i(t);else throw Error("User object invalid")}catch(e){console.error("Erro ao fazer parse do usu\xe1rio do localStorage:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}}catch(e){console.error("Erro ao acessar localStorage:",e);try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch(e){}}finally{x(!1)}},[]);let m=async(e,r)=>{try{let{token:t,user:a}=(await o.Z.post("".concat(n,"/login"),{email:e,password:r},{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;d(t),i(a),localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(a))}catch(e){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Erro ao fazer login")}},h=async()=>{if(c)try{await o.Z.post("".concat(n,"/logout"),{},{headers:{Authorization:"Bearer ".concat(c)}})}catch(e){console.error("Erro ao fazer logout:",e)}d(null),i(null),localStorage.removeItem("token"),localStorage.removeItem("user")};return(0,a.jsx)(l.Provider,{value:{user:t,token:c,loading:u,login:m,logout:h},children:r})}function c(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4033:function(e,r,t){e.exports=t(5313)}},function(e){e.O(0,[3803,2971,4938,1744],function(){return e(e.s=8622)}),_N_E=e.O()}]);