(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4449],{1981:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2894:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3008:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9670:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6637:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},4056:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},1295:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6142:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2741:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},6245:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},2549:function(e,o,r){"use strict";r.d(o,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7515:function(e,o,r){Promise.resolve().then(r.bind(r,5608))},5608:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return x}});var t=r(7437),a=r(2265),s=r(6637),l=r(6142),n=r(2741),c=r(1295),i=r(2549),d=r(9670),u=r(6245),m=r(8565),g=r(3242);function x(){let{token:e}=(0,m.a)(),[o,r]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!0),[f,p]=(0,a.useState)(null),[b,v]=(0,a.useState)({id:0,nome_instituicao:"Hospital Geral do Moxico",a_republica:"",o_ministerio:"",o_governo:"",endereco:"",telefone:"",email:"",logo_path:"",texto_cabecalho:"",rodape_texto:"",mostrar_logo:!0,mostrar_endereco:!0,mostrar_contato:!0});(0,a.useEffect)(()=>{e&&y()},[e]);let y=async()=>{try{if(h(!0),!e){console.error("Token n\xe3o dispon\xedvel para buscar configura\xe7\xe3o"),h(!1);return}let r="".concat("https://clamatec.com/api","/admin/pdf-configuracao");console.log("Buscando configura\xe7\xe3o do servidor...",{url:r,token:e?"presente":"ausente"});let t=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)}});if(console.log("Resposta recebida:",{status:t.status,ok:t.ok,url:r}),!t.ok){let e=await t.text();console.error("Erro ao buscar configura\xe7\xe3o:",{status:t.status,error:e}),404===t.status?console.error("Rota n\xe3o encontrada. Verifique se a URL est\xe1 correta:",r):401===t.status&&console.error("N\xe3o autorizado. Verifique o token.")}if(t.ok){let e=await t.json();console.log("Dados carregados do servidor:",e);let r={id:e.id||0,nome_instituicao:e.nome_instituicao||"Hospital Geral do Moxico",a_republica:e.a_republica||"",o_ministerio:e.o_ministerio||"",o_governo:e.o_governo||"",endereco:e.endereco||"",telefone:e.telefone||"",email:e.email||"",logo_path:e.logo_path||"",logo_url:e.logo_url||"",texto_cabecalho:e.texto_cabecalho||"",rodape_texto:e.rodape_texto||"",mostrar_logo:void 0===e.mostrar_logo||e.mostrar_logo,mostrar_endereco:void 0===e.mostrar_endereco||e.mostrar_endereco,mostrar_contato:void 0===e.mostrar_contato||e.mostrar_contato};if(console.log("FormData atualizado:",r),v(r),e.logo_url){var o;console.log("Carregando logo:",e.logo_url);let r=e.logo_url.startsWith("http")?e.logo_url:"".concat(((o="https://clamatec.com/api",void 0===o)?void 0:o.replace("/api",""))||"http://localhost:8001").concat(e.logo_url);p(r)}else console.log("Nenhuma logo encontrada"),p(null)}else{let e=await t.text();console.error("Erro ao buscar configura\xe7\xe3o:",{status:t.status,error:e}),g.A.error("Erro ao carregar configura\xe7\xe3o")}}catch(e){console.error("Erro ao buscar configura\xe7\xe3o:",e),g.A.error("Erro ao carregar configura\xe7\xe3o do servidor")}finally{h(!1)}},_=async()=>{try{let o="".concat("https://clamatec.com/api","/admin/pdf-configuracao/logo");console.log("Removendo logo...",{url:o});let r=await fetch(o,{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}});if(!r.ok){let e=await r.text();console.error("Erro ao remover logo:",{status:r.status,error:e,url:o})}r.ok&&(p(null),v({...b,logo_path:"",logo_url:""}),g.A.success("Logo removida com sucesso!"))}catch(e){console.error("Erro ao remover logo:",e),g.A.error("Erro ao remover logo")}},j=async o=>{o.preventDefault(),r(!0);try{var t,a,s;let o=document.getElementById("logo_file");if((null==o?void 0:null===(t=o.files)||void 0===t?void 0:t[0])&&o.files&&o.files[0])try{let t=new FormData;t.append("logo_file",o.files[0]);let s="".concat("https://clamatec.com/api","/admin/pdf-configuracao/logo");console.log("Fazendo upload do logo...",{logoUrl:s});let l=await fetch(s,{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:t});if(!l.ok){let e=await l.text();console.error("Erro ao fazer upload do logo:",{status:l.status,error:e,logoUrl:s})}if(l.ok){let e=await l.json();if(console.log("Logo enviada com sucesso:",e),e.logo_url){let o=e.logo_url.startsWith("http")?e.logo_url:"".concat(((a="https://clamatec.com/api",void 0===a)?void 0:a.replace("/api",""))||"http://localhost:8001").concat(e.logo_url);p(o)}o.value=""}else{let e=await l.json();g.A.error(e.message||"Erro ao enviar logo"),r(!1);return}}catch(e){console.error("Erro ao fazer upload do logo:",e),g.A.error("Erro ao enviar logo"),r(!1);return}let l={nome_instituicao:b.nome_instituicao||"Hospital Geral do Moxico",a_republica:b.a_republica||null,o_ministerio:b.o_ministerio||null,o_governo:b.o_governo||null,endereco:b.endereco||null,telefone:b.telefone||null,email:b.email||null,texto_cabecalho:b.texto_cabecalho||null,rodape_texto:b.rodape_texto||null,mostrar_logo:b.mostrar_logo,mostrar_endereco:b.mostrar_endereco,mostrar_contato:b.mostrar_contato},n="".concat("https://clamatec.com/api","/admin/pdf-configuracao");console.log("Salvando configura\xe7\xe3o:",{jsonData:l,url:n});let c=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(l)});if(!c.ok){let e=await c.text();console.error("Erro ao salvar configura\xe7\xe3o:",{status:c.status,error:e,url:n})}if(c.ok){let e=await c.json(),o=e.configuracao||e;if(console.log("Dados salvos recebidos:",o),v({id:o.id||0,nome_instituicao:o.nome_instituicao||"Hospital Geral do Moxico",a_republica:o.a_republica||"",o_ministerio:o.o_ministerio||"",o_governo:o.o_governo||"",endereco:o.endereco||"",telefone:o.telefone||"",email:o.email||"",logo_path:o.logo_path||"",logo_url:o.logo_url||"",texto_cabecalho:o.texto_cabecalho||"",rodape_texto:o.rodape_texto||"",mostrar_logo:void 0===o.mostrar_logo||o.mostrar_logo,mostrar_endereco:void 0===o.mostrar_endereco||o.mostrar_endereco,mostrar_contato:void 0===o.mostrar_contato||o.mostrar_contato}),o.logo_url){let e=o.logo_url.startsWith("http")?o.logo_url:"".concat(((s="https://clamatec.com/api",void 0===s)?void 0:s.replace("/api",""))||"http://localhost:8001").concat(o.logo_url);p(e)}else p(null);g.A.success("Configura\xe7\xe3o salva com sucesso!")}else{let e="Erro ao salvar configura\xe7\xe3o";try{let o=await c.json();e=o.message||e,o.errors&&(e=Object.values(o.errors).flat().join(", ")||e)}catch(e){console.error("Erro ao processar resposta de erro:",e)}g.A.error(e),console.error("Erro ao salvar:",{status:c.status,errorMessage:e})}}catch(e){console.error("Erro ao salvar:",e),g.A.error("Erro ao salvar configura\xe7\xe3o")}finally{r(!1)}};return x?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-gray-600 mb-2",children:"Carregando configura\xe7\xe3o..."}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Aguarde enquanto buscamos os dados do servidor"})]})}):(0,t.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,t.jsx)(s.Z,{className:"w-6 h-6"}),"Configura\xe7\xe3o do Cabe\xe7alho PDF"]}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Configure as informa\xe7\xf5es que aparecer\xe3o no cabe\xe7alho dos documentos PDF"}),b.id>0&&(0,t.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:["âœ“ Dados carregados (ID: ",b.id,")"]})]}),(0,t.jsxs)("form",{onSubmit:j,className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Informa\xe7\xf5es Governamentais"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A Rep\xfablica"}),(0,t.jsx)("input",{type:"text",value:b.a_republica||"",onChange:e=>v({...b,a_republica:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none",placeholder:"Ex: Rep\xfablica de Angola"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"O Minist\xe9rio"}),(0,t.jsx)("input",{type:"text",value:b.o_ministerio||"",onChange:e=>v({...b,o_ministerio:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none",placeholder:"Ex: Minist\xe9rio da Sa\xfade"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"O Governo"}),(0,t.jsx)("input",{type:"text",value:b.o_governo||"",onChange:e=>v({...b,o_governo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none",placeholder:"Ex: Governo Provincial do Moxico"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Informa\xe7\xf5es da Institui\xe7\xe3o"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nome da Institui\xe7\xe3o ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:b.nome_instituicao,onChange:e=>v({...b,nome_instituicao:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:[(0,t.jsx)(l.Z,{className:"w-4 h-4"}),"Endere\xe7o"]}),(0,t.jsx)("textarea",{value:b.endereco||"",onChange:e=>v({...b,endereco:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:[(0,t.jsx)(n.Z,{className:"w-4 h-4"}),"Telefone"]}),(0,t.jsx)("input",{type:"text",value:b.telefone||"",onChange:e=>v({...b,telefone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4"}),"Email"]}),(0,t.jsx)("input",{type:"email",value:b.email||"",onChange:e=>v({...b,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Logo"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload de Logo"}),(0,t.jsx)("input",{id:"logo_file",type:"file",accept:"image/*",onChange:e=>{var o;let r=null===(o=e.target.files)||void 0===o?void 0:o[0];if(r){if(console.log("Arquivo selecionado:",{name:r.name,size:r.size,type:r.type}),!r.type.startsWith("image/")){g.A.error("Por favor, selecione apenas arquivos de imagem"),e.target.value="";return}if(r.size>2097152){g.A.error("O arquivo \xe9 muito grande. Tamanho m\xe1ximo: 2MB"),e.target.value="";return}let o=new FileReader;o.onloadend=()=>{p(o.result),console.log("Preview da logo atualizado")},o.onerror=()=>{console.error("Erro ao ler arquivo"),g.A.error("Erro ao ler o arquivo")},o.readAsDataURL(r)}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"})]}),f&&(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsx)("img",{src:f,alt:"Logo preview",className:"max-h-32 rounded-lg",onError:e=>{console.error("Erro ao carregar logo:",f);let o=e.target;if(!o.src.startsWith("data:")){let e="https://clamatec.com/api".replace("/api","")||"http://localhost:8001",r=f.startsWith("/")?f:"/".concat(f);o.src="".concat(e).concat(r)}}}),(0,t.jsx)("button",{type:"button",onClick:_,className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,t.jsx)(i.Z,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"mostrar_logo",checked:b.mostrar_logo,onChange:e=>v({...b,mostrar_logo:e.target.checked}),className:"w-4 h-4 text-green-600 rounded focus:ring-green-500"}),(0,t.jsx)("label",{htmlFor:"mostrar_logo",className:"text-sm text-gray-700",children:"Mostrar logo nos documentos"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Textos Adicionais"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Texto do Cabe\xe7alho"}),(0,t.jsx)("textarea",{value:b.texto_cabecalho||"",onChange:e=>v({...b,texto_cabecalho:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Texto do Rodap\xe9"}),(0,t.jsx)("textarea",{value:b.rodape_texto||"",onChange:e=>v({...b,rodape_texto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none",rows:3})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Op\xe7\xf5es de Exibi\xe7\xe3o"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"mostrar_endereco",checked:b.mostrar_endereco,onChange:e=>v({...b,mostrar_endereco:e.target.checked}),className:"w-4 h-4 text-green-600 rounded focus:ring-green-500"}),(0,t.jsx)("label",{htmlFor:"mostrar_endereco",className:"text-sm text-gray-700",children:"Mostrar endere\xe7o"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"mostrar_contato",checked:b.mostrar_contato,onChange:e=>v({...b,mostrar_contato:e.target.checked}),className:"w-4 h-4 text-green-600 rounded focus:ring-green-500"}),(0,t.jsx)("label",{htmlFor:"mostrar_contato",className:"text-sm text-gray-700",children:"Mostrar informa\xe7\xf5es de contato"})]})]})]})]}),(0,t.jsx)("div",{className:"lg:sticky lg:top-6 h-fit",children:(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 border-2 border-dashed border-gray-300",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,t.jsx)(d.Z,{className:"w-5 h-5"}),"Preview do Cabe\xe7alho"]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm text-center",children:[b.mostrar_logo&&f&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("img",{src:f,alt:"Logo",className:"mx-auto max-h-24",onError:e=>{console.error("Erro ao carregar logo no preview:",f);let o=e.target;if(!o.src.startsWith("data:")){let e="https://clamatec.com/api".replace("/api","")||"http://localhost:8001",r=f.startsWith("/")?f:"/".concat(f);o.src="".concat(e).concat(r)}}})}),b.a_republica&&(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:b.a_republica}),b.o_ministerio&&(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:b.o_ministerio}),b.o_governo&&(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:b.o_governo}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:b.nome_instituicao}),b.mostrar_endereco&&b.endereco&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1 flex items-center justify-center gap-1",children:[(0,t.jsx)(l.Z,{className:"w-4 h-4"}),b.endereco]}),b.mostrar_contato&&(0,t.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[b.telefone&&(0,t.jsxs)("p",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(n.Z,{className:"w-4 h-4"}),b.telefone]}),b.email&&(0,t.jsxs)("p",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4"}),b.email]})]}),b.texto_cabecalho&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:b.texto_cabecalho})})]})]})})]}),(0,t.jsx)("div",{className:"mt-6 flex justify-end gap-3",children:(0,t.jsxs)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4"}),o?"Salvando...":"Salvar Configura\xe7\xe3o"]})})]})]})}},3242:function(e,o,r){"use strict";r.d(o,{A:function(){return x},I:function(){return h}});var t=r(7437),a=r(2265),s=r(3008),l=r(1981),n=r(2894),c=r(4056),i=r(2549);let d=0,u=[],m=[],g=()=>{u.forEach(e=>e([...m]))},x={show:function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,t="toast-".concat(++d);return m.push({id:t,message:e,type:o,duration:r}),g(),r>0&&setTimeout(()=>{x.remove(t)},r),t},success:(e,o)=>x.show(e,"success",o),error:(e,o)=>x.show(e,"error",o),info:(e,o)=>x.show(e,"info",o),warning:(e,o)=>x.show(e,"warning",o),remove:e=>{m=m.filter(o=>o.id!==e),g()}};function h(){let[e,o]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=e=>{o(e)};return u.push(e),o([...m]),()=>{u=u.filter(o=>o!==e)}},[]);let r=e=>{switch(e){case"success":return(0,t.jsx)(s.Z,{className:"w-5 h-5 text-green-600"});case"error":return(0,t.jsx)(l.Z,{className:"w-5 h-5 text-red-600"});case"warning":return(0,t.jsx)(n.Z,{className:"w-5 h-5 text-yellow-600"});default:return(0,t.jsx)(c.Z,{className:"w-5 h-5 text-blue-600"})}},d=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return 0===e.length?null:(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md w-full",children:e.map(e=>(0,t.jsxs)("div",{className:"\n            ".concat(d(e.type),"\n            border-2 rounded-xl shadow-lg p-4 flex items-start gap-3\n            animate-in slide-in-from-right-full duration-300\n            backdrop-blur-sm\n          "),children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:r(e.type)}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)("p",{className:"text-sm font-semibold break-words",children:e.message})}),(0,t.jsx)("button",{onClick:()=>e.remove(e.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(i.Z,{className:"w-4 h-4"})})]},e.id))})}},8565:function(e,o,r){"use strict";r.d(o,{H:function(){return c},a:function(){return i}});var t=r(7437),a=r(2265),s=r(4829);let l=window.__API_URL__||"https://clamatec.com/api",n=(0,a.createContext)(void 0);function c(e){let{children:o}=e,[r,c]=(0,a.useState)(null),[i,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{try{let e=localStorage.getItem("token"),o=localStorage.getItem("user");if(!e||!o||"undefined"===e||"null"===e||"undefined"===o||"null"===o||""===e.trim()||""===o.trim()){localStorage.removeItem("token"),localStorage.removeItem("user"),m(!1);return}try{let r=JSON.parse(o);if(r&&"object"==typeof r&&r.id)d(e),c(r);else throw Error("User object invalid")}catch(e){console.error("Erro ao fazer parse do usu\xe1rio do localStorage:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}}catch(e){console.error("Erro ao acessar localStorage:",e);try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch(e){}}finally{m(!1)}},[]);let g=async(e,o)=>{try{let{token:r,user:t}=(await s.Z.post("".concat(l,"/login"),{email:e,password:o},{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;d(r),c(t),localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(t))}catch(e){var r,t;throw Error((null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Erro ao fazer login")}},x=async()=>{if(i)try{await s.Z.post("".concat(l,"/logout"),{},{headers:{Authorization:"Bearer ".concat(i)}})}catch(e){console.error("Erro ao fazer logout:",e)}d(null),c(null),localStorage.removeItem("token"),localStorage.removeItem("user")};return(0,t.jsx)(n.Provider,{value:{user:r,token:i,loading:u,login:g,logout:x},children:o})}function i(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[3803,2971,4938,1744],function(){return e(e.s=7515)}),_N_E=e.O()}]);