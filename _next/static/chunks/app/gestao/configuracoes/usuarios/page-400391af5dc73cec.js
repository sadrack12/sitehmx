(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4612],{1981:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2894:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3008:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3523:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4056:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6264:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5589:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},1295:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},9617:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9883:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1138:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7972:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5736:function(e,t,r){Promise.resolve().then(r.bind(r,4559))},4559:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var a=r(7437),s=r(2265),n=r(8565),l=r(4033),o=r(6264),i=r(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var d=r(9883),u=r(7972),m=r(1295),x=r(9617),h=r(1138);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,i.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var p=r(5589),f=r(3242),y=r(3930),b=r(9173);function v(){let{user:e,token:t,loading:r}=(0,n.a)(),i=(0,l.useRouter)(),[v,j]=(0,s.useState)([]),[w,N]=(0,s.useState)([]),[k,Z]=(0,s.useState)(!0),[S,C]=(0,s.useState)(!1),[E,A]=(0,s.useState)(null),[M,_]=(0,s.useState)({name:"",email:"",password:"",role:"atendente",medico_id:""}),[z,I]=(0,s.useState)(!1),[O,P]=(0,s.useState)(""),[U,q]=(0,s.useState)(""),[L,T]=(0,s.useState)({isOpen:!1,id:null});(0,s.useEffect)(()=>{r||e?e&&"admin"!==e.role&&i.push("/gestao/dashboard"):i.push("/gestao/login")},[e,r,i]),(0,s.useEffect)(()=>{t&&(V(),D())},[t]);let D=async()=>{try{let e=await fetch("".concat("https://clamatec.com/api","/admin/medicos"),{headers:{Authorization:"Bearer ".concat(t)}});if(e.ok){let t=await e.json();N((t.data||t||[]).map(e=>({id:e.id,nome:e.nome})))}}catch(e){console.error("Erro ao buscar m\xe9dicos:",e)}},V=(0,s.useCallback)(async()=>{try{Z(!0);let e=new URLSearchParams;O&&e.append("search",O),U&&e.append("role",U);let r=await fetch("".concat("https://clamatec.com/api","/admin/users?").concat(e.toString()),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){let e=await r.json();j(e.data||e||[])}else f.A.error("Erro ao carregar usu\xe1rios")}catch(e){console.error("Erro ao buscar usu\xe1rios:",e),f.A.error("Erro ao carregar usu\xe1rios")}finally{Z(!1)}},[t,O,U]);(0,s.useEffect)(()=>{V()},[V]);let B=async e=>{e.preventDefault(),I(!0);try{let e={name:M.name,email:M.email,role:M.role};M.password&&(e.password=M.password),"medico"===M.role&&M.medico_id&&(e.medico_id=parseInt(M.medico_id));let r=E?"".concat("https://clamatec.com/api","/admin/users/").concat(E.id):"".concat("https://clamatec.com/api","/admin/users"),a=await fetch(r,{method:E?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(a.ok)f.A.success(E?"Usu\xe1rio atualizado com sucesso!":"Usu\xe1rio criado com sucesso!"),C(!1),F(),V();else{let e=await a.json(),t=e.errors?Object.values(e.errors).flat().join(", "):e.message||"Erro ao salvar usu\xe1rio";f.A.error(t)}}catch(e){console.error("Erro ao salvar usu\xe1rio:",e),f.A.error("Erro ao salvar usu\xe1rio")}finally{I(!1)}},G=e=>{var t;A(e),_({name:e.name,email:e.email,password:"",role:e.role,medico_id:(null===(t=e.medico_id)||void 0===t?void 0:t.toString())||""}),C(!0)},H=async()=>{if(L.id)try{let e=await fetch("".concat("https://clamatec.com/api","/admin/users/").concat(L.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(e.ok)f.A.success("Usu\xe1rio deletado com sucesso!"),V();else{let t=await e.json();f.A.error(t.message||"Erro ao deletar usu\xe1rio")}}catch(e){console.error("Erro ao deletar usu\xe1rio:",e),f.A.error("Erro ao deletar usu\xe1rio")}finally{T({isOpen:!1,id:null})}},F=()=>{_({name:"",email:"",password:"",role:"atendente",medico_id:""}),A(null)},J=e=>{switch(e){case"admin":return"bg-red-100 text-red-800";case"gestor":return"bg-blue-100 text-blue-800";case"medico":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=e=>{switch(e){case"admin":return"Administrador";case"gestor":return"Gestor";case"medico":return"M\xe9dico";default:return"Atendente"}};return r||k?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(o.Z,{className:"w-8 h-8 animate-spin text-green-600"})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-[95rem] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(c,{className:"w-8 h-8 text-green-600"}),"Gest\xe3o de Usu\xe1rios"]}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Gerencie usu\xe1rios do sistema"})]}),(0,a.jsxs)("button",{onClick:()=>{F(),C(!0)},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5"}),"Novo Usu\xe1rio"]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar"}),(0,a.jsx)("input",{type:"text",value:O,onChange:e=>P(e.target.value),placeholder:"Nome ou email...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrar por Perfil"}),(0,a.jsx)(b.Z,{value:U,onChange:e=>q(e.target.value),options:[{value:"",label:"Todos"},{value:"admin",label:"Administrador"},{value:"gestor",label:"Gestor"},{value:"atendente",label:"Atendente"},{value:"medico",label:"M\xe9dico"}]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perfil"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M\xe9dico Vinculado"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===v.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum usu\xe1rio encontrado"})}):v.map(t=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.name})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-900",children:t.email})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(J(t.role)),children:R(t.role)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.medico?t.medico.nome:"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.created_at?new Date(t.created_at).toLocaleDateString("pt-AO"):"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>G(t),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded transition-colors",title:"Editar",children:(0,a.jsx)(x.Z,{className:"w-4 h-4"})}),t.id!==(null==e?void 0:e.id)&&(0,a.jsx)("button",{onClick:()=>T({isOpen:!0,id:t.id}),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded transition-colors",title:"Deletar",children:(0,a.jsx)(h.Z,{className:"w-4 h-4"})})]})})]},t.id))})]})})}),S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(g,{className:"w-6 h-6 text-green-600"}),E?"Editar Usu\xe1rio":"Novo Usu\xe1rio"]}),(0,a.jsx)("button",{onClick:()=>{C(!1),F()},className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),(0,a.jsxs)("form",{onSubmit:B,className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),(0,a.jsx)("input",{type:"text",value:M.name,onChange:e=>_({...M,name:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,a.jsx)("input",{type:"email",value:M.email,onChange:e=>_({...M,email:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Senha ",!E&&"*"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"password",value:M.password,onChange:e=>_({...M,password:e.target.value}),required:!E,minLength:6,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:E?"Deixe em branco para manter a senha atual":"M\xednimo 6 caracteres"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perfil *"}),(0,a.jsx)(b.Z,{value:M.role,onChange:e=>_({...M,role:e.target.value,medico_id:"medico"!==e.target.value?"":M.medico_id}),options:[{value:"admin",label:"Administrador"},{value:"gestor",label:"Gestor"},{value:"atendente",label:"Atendente"},{value:"medico",label:"M\xe9dico"}]})]}),"medico"===M.role&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M\xe9dico Vinculado *"}),(0,a.jsx)(b.Z,{value:M.medico_id,onChange:e=>_({...M,medico_id:e.target.value}),options:[{value:"",label:"Selecione um m\xe9dico..."},...w.map(e=>({value:e.id.toString(),label:e.nome}))]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{C(!1),F()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",disabled:z,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:z?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 animate-spin"}),"Salvando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{className:"w-4 h-4"}),E?"Atualizar":"Criar"]})})]})]})]})}),(0,a.jsx)(y.Z,{isOpen:L.isOpen,onCancel:()=>T({isOpen:!1,id:null}),onConfirm:H,title:"Confirmar Exclus\xe3o",message:"Tem certeza que deseja deletar este usu\xe1rio? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",type:"danger"})]})})}},3930:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(7437),s=r(2894),n=r(2549);function l(e){let{isOpen:t,title:r,message:l,confirmText:o="Confirmar",cancelText:i="Cancelar",onConfirm:c,onCancel:d,type:u="danger"}=e;if(!t)return null;let m=(()=>{switch(u){case"danger":return{button:"bg-red-600 hover:bg-red-700 text-white",icon:"text-red-600",border:"border-red-200"};case"warning":return{button:"bg-yellow-600 hover:bg-yellow-700 text-white",icon:"text-yellow-600",border:"border-yellow-200"};default:return{button:"bg-blue-600 hover:bg-blue-700 text-white",icon:"text-blue-600",border:"border-blue-200"}}})();return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full border-2 border-gray-200 animate-in zoom-in-95 duration-200",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 ".concat(m.icon),children:(0,a.jsx)(s.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:r}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:l})]}),(0,a.jsx)("button",{onClick:d,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,a.jsx)("button",{onClick:d,className:"px-4 py-2 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-semibold text-gray-700",children:i}),(0,a.jsx)("button",{onClick:c,className:"px-4 py-2 rounded-lg transition-colors font-semibold shadow-sm ".concat(m.button),children:o})]})]})})})}},9173:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(7437),s=r(3523);function n(e){let{children:t,label:r,error:n,icon:l,className:o="",options:i,...c}=e;return(0,a.jsxs)("div",{className:r?"w-full":"",children:[r&&(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r,c.required&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[l&&(0,a.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none z-10",children:l}),(0,a.jsx)("select",{...c,className:"\n            ".concat(r?"w-full":"min-w-[140px]"," \n            ").concat(l?"pl-10":"pl-3"," \n            pr-10 \n            py-2.5 \n            border \n            border-gray-300 \n            rounded-lg \n            bg-white\n            text-sm\n            text-gray-900\n            font-medium\n            appearance-none\n            cursor-pointer\n            transition-all\n            duration-200\n            focus:ring-2 \n            focus:ring-green-500/50\n            focus:border-green-500 \n            outline-none\n            hover:border-gray-400\n            hover:bg-gray-50\n            disabled:bg-gray-100 \n            disabled:cursor-not-allowed\n            disabled:text-gray-500\n            disabled:border-gray-200\n            ").concat(n?"border-red-500 focus:border-red-500 focus:ring-red-500/50":"","\n            ").concat(o,"\n          "),children:i?i.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value)):t}),(0,a.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-gray-500",children:(0,a.jsx)(s.Z,{className:"w-4 h-4"})})]}),n&&(0,a.jsxs)("p",{className:"mt-1.5 text-xs text-red-600 flex items-center gap-1",children:[(0,a.jsx)("span",{children:"⚠"}),n]})]})}},3242:function(e,t,r){"use strict";r.d(t,{A:function(){return h},I:function(){return g}});var a=r(7437),s=r(2265),n=r(3008),l=r(1981),o=r(2894),i=r(4056),c=r(2549);let d=0,u=[],m=[],x=()=>{u.forEach(e=>e([...m]))},h={show:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a="toast-".concat(++d);return m.push({id:a,message:e,type:t,duration:r}),x(),r>0&&setTimeout(()=>{h.remove(a)},r),a},success:(e,t)=>h.show(e,"success",t),error:(e,t)=>h.show(e,"error",t),info:(e,t)=>h.show(e,"info",t),warning:(e,t)=>h.show(e,"warning",t),remove:e=>{m=m.filter(t=>t.id!==e),x()}};function g(){let[e,t]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=e=>{t(e)};return u.push(e),t([...m]),()=>{u=u.filter(t=>t!==e)}},[]);let r=e=>{switch(e){case"success":return(0,a.jsx)(n.Z,{className:"w-5 h-5 text-green-600"});case"error":return(0,a.jsx)(l.Z,{className:"w-5 h-5 text-red-600"});case"warning":return(0,a.jsx)(o.Z,{className:"w-5 h-5 text-yellow-600"});default:return(0,a.jsx)(i.Z,{className:"w-5 h-5 text-blue-600"})}},d=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return 0===e.length?null:(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md w-full",children:e.map(e=>(0,a.jsxs)("div",{className:"\n            ".concat(d(e.type),"\n            border-2 rounded-xl shadow-lg p-4 flex items-start gap-3\n            animate-in slide-in-from-right-full duration-300\n            backdrop-blur-sm\n          "),children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:r(e.type)}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("p",{className:"text-sm font-semibold break-words",children:e.message})}),(0,a.jsx)("button",{onClick:()=>e.remove(e.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})})]},e.id))})}},8565:function(e,t,r){"use strict";r.d(t,{H:function(){return i},a:function(){return c}});var a=r(7437),s=r(2265),n=r(4829);let l=window.__API_URL__||"https://clamatec.com/api",o=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!0);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e||!t||"undefined"===e||"null"===e||"undefined"===t||"null"===t||""===e.trim()||""===t.trim()){localStorage.removeItem("token"),localStorage.removeItem("user"),m(!1);return}try{let r=JSON.parse(t);if(r&&"object"==typeof r&&r.id)d(e),i(r);else throw Error("User object invalid")}catch(e){console.error("Erro ao fazer parse do usu\xe1rio do localStorage:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}}catch(e){console.error("Erro ao acessar localStorage:",e);try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch(e){}}finally{m(!1)}},[]);let x=async(e,t)=>{try{let{token:r,user:a}=(await n.Z.post("".concat(l,"/login"),{email:e,password:t},{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;d(r),i(a),localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(a))}catch(e){var r,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Erro ao fazer login")}},h=async()=>{if(c)try{await n.Z.post("".concat(l,"/logout"),{},{headers:{Authorization:"Bearer ".concat(c)}})}catch(e){console.error("Erro ao fazer logout:",e)}d(null),i(null),localStorage.removeItem("token"),localStorage.removeItem("user")};return(0,a.jsx)(o.Provider,{value:{user:r,token:c,loading:u,login:x,logout:h},children:t})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[3803,2971,4938,1744],function(){return e(e.s=5736)}),_N_E=e.O()}]);