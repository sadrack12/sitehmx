(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7540],{2898:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,r)=>{let t=(0,n.forwardRef)(({color:t="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,...u},m)=>(0,n.createElement)("svg",{ref:m,...s,width:o,height:o,stroke:t,strokeWidth:l?24*Number(i)/Number(o):i,className:["lucide",`lucide-${a(e)}`,c].join(" "),...u},[...r.map(([e,r])=>(0,n.createElement)(e,r)),...Array.isArray(d)?d:[d]]));return t.displayName=`${e}`,t}},3067:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3008:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5589:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(2898).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},4312:function(e,r,t){Promise.resolve().then(t.bind(t,8952))},8952:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return u}});var n=t(7437),s=t(2265),a=t(4033),o=t(5589),i=t(3067),l=t(3008),c=t(1396),d=t.n(c);function u(){let e=(0,a.useRouter)(),r=(0,a.useSearchParams)(),[t,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[f,h]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[p,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),[w,j]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=r.get("email"),t=r.get("token");e&&c(e),t&&m(t)},[r]);let N=async r=>{if(r.preventDefault(),j(""),f!==g){j("As senhas n\xe3o coincidem");return}if(f.length<6){j("A senha deve ter no m\xednimo 6 caracteres");return}b(!0);try{let r=await fetch("".concat("https://clamatec.com/api","/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,token:u,password:f,password_confirmation:g})}),n=await r.json();r.ok?(v(!0),setTimeout(()=>{e.push("/gestao/login")},3e3)):j(n.message||"Erro ao redefinir senha. Token inv\xe1lido ou expirado.")}catch(e){j("Erro ao conectar com o servidor")}finally{b(!1)}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-50",children:(0,n.jsx)("div",{className:"max-w-md w-full px-4",children:(0,n.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100",children:y?(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,n.jsx)(l.Z,{className:"w-8 h-8 text-green-600"})}),(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Senha redefinida!"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"Sua senha foi redefinida com sucesso. Voc\xea ser\xe1 redirecionado para o login..."}),(0,n.jsxs)(d(),{href:"/gestao/login",className:"inline-flex items-center gap-2 text-green-600 hover:text-green-700 font-medium",children:[(0,n.jsx)(i.Z,{className:"w-4 h-4"}),"Ir para o login"]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"text-center mb-6",children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,n.jsx)(o.Z,{className:"w-8 h-8 text-green-600"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Redefinir Senha"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Digite sua nova senha"})]}),(0,n.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[w&&(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",value:t,onChange:e=>c(e.target.value),required:!0,placeholder:"seu@email.com",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700 mb-2",children:"Token"}),(0,n.jsx)("input",{id:"token",type:"text",value:u,onChange:e=>m(e.target.value),required:!0,placeholder:"Token recebido por email",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha"}),(0,n.jsx)("input",{id:"password",type:"password",value:f,onChange:e=>h(e.target.value),required:!0,minLength:6,placeholder:"M\xednimo 6 caracteres",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"passwordConfirmation",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nova Senha"}),(0,n.jsx)("input",{id:"passwordConfirmation",type:"password",value:g,onChange:e=>x(e.target.value),required:!0,minLength:6,placeholder:"Digite a senha novamente",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),(0,n.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Redefinindo...":"Redefinir Senha"})]}),(0,n.jsx)("div",{className:"mt-6 text-center",children:(0,n.jsxs)(d(),{href:"/gestao/login",className:"text-sm text-green-600 hover:text-green-700 flex items-center justify-center gap-2",children:[(0,n.jsx)(i.Z,{className:"w-4 h-4"}),"Voltar para o login"]})})]})})})})}},622:function(e,r,t){"use strict";var n=t(2265),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var n,a={},c=null,d=null;for(n in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)o.call(r,n)&&!l.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===a[n]&&(a[n]=r[n]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:i.current}}r.Fragment=a,r.jsx=c,r.jsxs=c},7437:function(e,r,t){"use strict";e.exports=t(622)},4033:function(e,r,t){e.exports=t(5313)}},function(e){e.O(0,[1396,2971,4938,1744],function(){return e(e.s=4312)}),_N_E=e.O()}]);